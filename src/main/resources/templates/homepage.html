<!DOCTYPE html>
<html lang='en' xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Brand News</title>
    <link rel="stylesheet" th:href="@{/styles/homepage.css}">
</head>
<body>
<h1>ðŸ“° Brand News</h1>

<!-- Admin-only button -->
<th:block th:if="${loggedInUser == 'admin@brandnews.com'}">
    <a th:href="@{/admin/news/create}" class="auth-btn">+ Add News</a>
</th:block>

<!-- Auth buttons -->
<div class="auth-buttons">
  <span th:if="${loggedInUser}">
    <a class="auth-btn" th:href="@{/logout}">Logout</a>
  </span>
    <span th:unless="${loggedInUser}">
    <a class="auth-btn" th:href="@{/login}">Login</a>
    <a class="auth-btn" th:href="@{/register}">Register</a>
  </span>
</div>

<!-- Category filter (optional) -->
<div class="filter-buttons">
    <a th:href="@{/}" class="filter-btn">All</a>
    <a th:href="@{/category/technology}" class="filter-btn">Technology</a>
    <a th:href="@{/category/sports}" class="filter-btn">Sports</a>
    <a th:href="@{/category/politics}" class="filter-btn">Politics</a>
</div>

<!-- News feed -->
<div id="news-container">
    <a th:each="news : ${newsList}"
       th:href="@{/news/{id}(id=${news.id})}"
       class="news-card"
       style="display: flex; gap: 1rem; padding: 1rem; margin-bottom: 1rem; background: #fff; text-decoration: none; color: inherit; box-shadow: 0 2px 6px rgba(0,0,0,0.05); border-radius: 8px;">

        <img th:src="${news.imageUrl}" alt="news image" style="width: 140px; height: 90px; object-fit: cover; border-radius: 6px;" />

        <div>
            <div class="news-title" th:text="${news.title}" style="font-weight: bold; font-size: 1.2rem;"></div>
            <div class="news-source" th:text="${news.source} + ' - ' + ${news.category}" style="color: gray;"></div>
            <p th:text="${news.content}" style="margin-top: 0.5rem;"></p>
        </div>
    </a>
</div>

</body>
</html>